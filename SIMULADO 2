CREATE DATABASE SIMULADO2;
GO

CREATE TABLE PESSOA
(
	ID_PESSOA INT NOT NULL,
	NOME VARCHAR(50) NOT NULL,
	IDADE INT NOT NULL,
	PARENTE INT NOT NULL,
	CONSTRAINT CKIDADE CHECK (IDADE > 0),
	CONSTRAINT PKID_PESSOA PRIMARY KEY (ID_PESSOA)
)

SELECT * FROM PESSOA

INSERT INTO PESSOA (ID_PESSOA,NOME,IDADE,PARENTE)
VALUES
('1','PEDRO','77',''),
('2','MARIA','41','1'),
('3','FELIPE','16','2')

DELETE FROM PESSOA
WHERE NOME = 'Maria' 

DELETE FROM PESSOA
WHERE NOME =  'Felipe'

ALTER TABLE PESSOA ADD GRAUPARENTE VARCHAR(20)

SELECT * FROM PESSOA

INSERT INTO PESSOA (ID_PESSOA,NOME,IDADE,PARENTE,GRAUPARENTE)
VALUES
('2','JOANA','75','1','CASADA')

INSERT INTO PESSOA (ID_PESSOA,NOME,IDADE,PARENTE,GRAUPARENTE)
VALUES
('3','MARIA','41','1','FILHA'),
('4','MARIA','41','2','FILHA')

UPDATE PESSOA
SET IDADE = (IDADE +1)

ALTER TABLE PESSOA ADD DATANASCIMENTO DATE 	 

SELECT * FROM PESSOA



ALTER TABLE PESSOA ADD CONSTRAINT FORM_IDADE DEFAULT IDADE  (getdate()) - (DATANASCIMENTO) /*NÃO RESOLVIDO*/

SELECT * FROM PESSOA

INSERT INTO PESSOA (ID_PESSOA,NOME,IDADE,PARENTE,GRAUPARENTE,DATANASCIMENTO)
VALUES
('5','FELIPE','16','3','filho','21/02/1995')

ALTER TABLE PESSOA ALTER COLUMN GRAUPARENTE VARCHAR(100)

UPDATE PESSOA
SET GRAUPARENTE = 'filho adotivo com guarda provisória segundo lei #63459/3'
WHERE ID_PESSOA = '5'
